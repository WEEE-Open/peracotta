#!/usr/bin/env python3

from read_smartctl import read_smartctl
from read_decode_dimms import read_decode_dimms
from read_dmidecode import get_baseboard, get_chassis, get_connectors
from read_lspci_and_glxinfo import read_lspci_and_glxinfo
from read_lscpu import read_lscpu

filedir = 'jm11/'


def test_lspci():
	# VGA core graphics processor core VGA processor graphics core VGA processor is the core of this laptop
	expect = {
		"type": "graphics-card",
		"brand": "Lenovo 3rd Gen Core processor Graphics Controller",
		"model": "VGA controller",
		"internal-name": "",
		"capacity-byte": None,
		"human_readable_capacity": "",
		"brand-manufacturer": "Intel"
	}
	output = read_lspci_and_glxinfo(False, filedir + 'lspci.txt', filedir + 'glxinfo.txt')

	assert expect == output


def test_lscpu():
	expect = {
		"type": "cpu",
		"architecture": "x86-64",
		"model": "Core i5-3210M",
		"brand": "Intel",
		"core-n": 2,
		"thread-n": 4,
		"frequency-hertz": 2500000000,
		"human_readable_frequency": "N/A"
	}
	output = read_lscpu(filedir + 'lscpu.txt')

	assert expect == output


def test_ram():
	output = read_decode_dimms(filedir + 'dimms.txt')

	assert len(output) == 0


def test_baseboard():
	expect = {
		"type": "motherboard",
		"brand": "LENOVO",
		"model": "246837G",
		"sn": "2RTC1A0N333",
	}
	output = get_baseboard(filedir + 'baseboard.txt')

	assert expect == output


def test_connector():
	baseboard = get_baseboard(filedir + 'baseboard.txt')

	expect = {
		"type": "motherboard",
		"brand": "LENOVO",
		"model": "246837G",
		"sn": "2RTC1A0N333",
		"usb-ports-n": 4,
		"vga-ports-n": 1,
		"mini-jack-ports-n": 1,
		"ethernet-ports-n": 1,
		"mini-displayport-ports-n": 1,
		"warning": "",
	}
	output = get_connectors(filedir + 'connector.txt', baseboard)

	assert expect == output


def test_chassis():
	expect = {
		"type": "case",
		"brand": "LENOVO",
		"model": "",
		"sn": "A2K3GED",
		"motherboard-form-factor": "proprietary-laptop"
	}
	output = get_chassis(filedir + 'chassis.txt')

	assert expect == output


def test_smartctl():
	expect = [
		{
			"type": "ssd",
			"brand": "Crucial",
			"model": "CT128M550SSD3",
			"family": "MX100/MX200/M5x0/M600 Client SSDs",
			"sn": "14110C323F00",
			'wwn': '5 00a075 01d3243de',
			"capacity-byte": 128000000000,
			"human_readable_capacity": "128 GB",
			"smart-data": "=== START OF READ SMART DATA SECTION ===\nSMART overall-health self-assessment test result: PASSED\n\nGeneral SMART Values:\nOffline data collection status:  (0x80)\tOffline data collection activity\n\t\t\t\t\twas never started.\n\t\t\t\t\tAuto Offline Data Collection: Enabled.\nSelf-test execution status:      (   0)\tThe previous self-test routine completed\n\t\t\t\t\twithout error or no self-test has ever \n\t\t\t\t\tbeen run.\nTotal time to complete Offline \ndata collection: \t\t(  595) seconds.\nOffline data collection\ncapabilities: \t\t\t (0x7b) SMART execute Offline immediate.\n\t\t\t\t\tAuto Offline data collection on/off support.\n\t\t\t\t\tSuspend Offline collection upon new\n\t\t\t\t\tcommand.\n\t\t\t\t\tOffline surface scan supported.\n\t\t\t\t\tSelf-test supported.\n\t\t\t\t\tConveyance Self-test supported.\n\t\t\t\t\tSelective Self-test supported.\nSMART capabilities:            (0x0003)\tSaves SMART data before entering\n\t\t\t\t\tpower-saving mode.\n\t\t\t\t\tSupports SMART auto save timer.\nError logging capability:        (0x01)\tError logging supported.\n\t\t\t\t\tGeneral Purpose Logging supported.\nShort self-test routine \nrecommended polling time: \t (   2) minutes.\nExtended self-test routine\nrecommended polling time: \t (   3) minutes.\nConveyance self-test routine\nrecommended polling time: \t (   3) minutes.\nSCT capabilities: \t       (0x0035)\tSCT Status supported.\n\t\t\t\t\tSCT Feature Control supported.\n\t\t\t\t\tSCT Data Table supported.\n\nSMART Attributes Data Structure revision number: 16\nVendor Specific SMART Attributes with Thresholds:\nID# ATTRIBUTE_NAME          FLAGS    VALUE WORST THRESH FAIL RAW_VALUE\n  1 Raw_Read_Error_Rate     POSR-K   100   100   000    -    2\n  5 Reallocate_NAND_Blk_Cnt PO--CK   100   100   000    -    0\n  9 Power_On_Hours          -O--CK   100   100   000    -    4767\n 12 Power_Cycle_Count       -O--CK   100   100   000    -    7869\n171 Program_Fail_Count      -O--CK   100   100   000    -    0\n172 Erase_Fail_Count        -O--CK   100   100   000    -    0\n173 Ave_Block-Erase_Count   -O--CK   095   095   000    -    177\n174 Unexpect_Power_Loss_Ct  -O--CK   100   100   000    -    366\n180 Unused_Reserve_NAND_Blk PO--CK   000   000   000    -    1036\n183 SATA_Interfac_Downshift -O--CK   100   100   000    -    0\n184 Error_Correction_Count  -O--CK   100   100   000    -    0\n187 Reported_Uncorrect      -O--CK   100   100   000    -    0\n194 Temperature_Celsius     -O---K   034   006   000    -    66 (Min/Max 17/94)\n196 Reallocated_Event_Count -O--CK   100   100   000    -    0\n197 Current_Pending_Sector  -O--CK   100   100   000    -    0\n198 Offline_Uncorrectable   ----CK   100   100   000    -    0\n199 UDMA_CRC_Error_Count    -O--CK   100   100   000    -    0\n202 Percent_Lifetime_Used   P---CK   095   095   000    -    5\n206 Write_Error_Rate        -OSR--   100   100   000    -    0\n210 Success_RAIN_Recov_Cnt  -O--CK   100   100   000    -    0\n246 Total_Host_Sector_Write -O--CK   100   100   000    -    14546033643\n247 Host_Program_Page_Count -O--CK   100   100   000    -    463669262\n248 Bckgnd_Program_Page_Cnt -O--CK   100   100   000    -    910054629\n                            ||||||_ K auto-keep\n                            |||||__ C event count\n                            ||||___ R error rate\n                            |||____ S speed/performance\n                            ||_____ O updated online\n                            |______ P prefailure warning\n\nGeneral Purpose Log Directory Version 1\nSMART           Log Directory Version 1 [multi-sector log support]\nAddress    Access  R/W   Size  Description\n0x00       GPL,SL  R/O      1  Log Directory\n0x01           SL  R/O      1  Summary SMART error log\n0x02           SL  R/O     51  Comprehensive SMART error log\n0x03       GPL     R/O  16383  Ext. Comprehensive SMART error log\n0x04       GPL,SL  R/O    255  Device Statistics log\n0x06           SL  R/O      1  SMART self-test log\n0x07       GPL     R/O      1  Extended self-test log\n0x09           SL  R/W      1  Selective self-test log\n0x10       GPL     R/O      1  SATA NCQ Queued Error log\n0x11       GPL     R/O      1  SATA Phy Event Counters log\n0x13       GPL     R/O      1  SATA NCQ Send and Receive log\n0x24       GPL     R/O    429  Current Device Internal Status Data log\n0x25       GPL     R/O    145  Saved Device Internal Status Data log\n0x30       GPL,SL  R/O      9  IDENTIFY DEVICE data log\n0x80-0x9f  GPL,SL  R/W     16  Host vendor specific log\n0xa0       GPL     VS    2000  Device vendor specific log\n0xa0       SL      VS     208  Device vendor specific log\n0xa1-0xbf  GPL,SL  VS       1  Device vendor specific log\n0xc0       GPL,SL  VS      80  Device vendor specific log\n0xc1-0xdf  GPL,SL  VS       1  Device vendor specific log\n0xe0       GPL,SL  R/W      1  SCT Command/Status\n0xe1       GPL,SL  R/W      1  SCT Data Transfer\n\nSMART Extended Comprehensive Error Log Version: 1 (16383 sectors)\nNo Errors Logged\n\nSMART Extended Self-test Log Version: 1 (1 sectors)\nNum  Test_Description    Status                  Remaining  LifeTime(hours)  LBA_of_first_error\n# 1  Short offline       Aborted by host               00%      4683         -\n# 2  Short offline       Aborted by host               00%      4683         -\n# 3  Vendor (0xff)       Completed without error       00%      4545         -\n# 4  Vendor (0xff)       Completed without error       00%      4308         -\n# 5  Vendor (0xff)       Completed without error       00%      4180         -\n# 6  Vendor (0xff)       Completed without error       00%      4026         -\n# 7  Vendor (0xff)       Completed without error       00%      2833         -\n# 8  Extended offline    Aborted by host               00%      2657         -\n# 9  Vendor (0xff)       Completed without error       00%      1785         -\n#10  Vendor (0xff)       Completed without error       00%      1614         -\n#11  Vendor (0xff)       Completed without error       00%      1153         -\n#12  Vendor (0xff)       Completed without error       00%       957         -\n#13  Vendor (0xff)       Completed without error       00%       770         -\n\nSMART Selective self-test log data structure revision number 1\n SPAN  MIN_LBA  MAX_LBA  CURRENT_TEST_STATUS\n    1        0        0  Not_testing\n    2        0        0  Not_testing\n    3        0        0  Not_testing\n    4        0        0  Not_testing\n    5        0        0  Not_testing\nSelective self-test flags (0x0):\n  After scanning selected spans, do NOT read-scan remainder of disk.\nIf Selective self-test is pending on power-up, resume after 0 minute delay.\n\nSCT Status Version:                  3\nSCT Version (vendor specific):       1 (0x0001)\nSCT Support Level:                   0\nDevice State:                        Active (0)\nCurrent Temperature:                    66 Celsius\nPower Cycle Min/Max Temperature:     51/66 Celsius\nLifetime    Min/Max Temperature:     17/94 Celsius\nUnder/Over Temperature Limit Count:   0/0\n\nSCT Temperature History Version:     2\nTemperature Sampling Period:         1 minute\nTemperature Logging Interval:        1 minute\nMin/Max recommended Temperature:      0/70 Celsius\nMin/Max Temperature Limit:           -5/75 Celsius\nTemperature History Size (Index):    478 (290)\n\nIndex    Estimated Time   Temperature Celsius\n 291    2019-04-02 09:50    72  ***************************************+\n 292    2019-04-02 09:51    73  ***************************************+\n ...    ..(  6 skipped).    ..  ***************************************+\n 299    2019-04-02 09:58    73  ***************************************+\n 300    2019-04-02 09:59    74  ***************************************+\n ...    ..(  4 skipped).    ..  ***************************************+\n 305    2019-04-02 10:04    74  ***************************************+\n 306    2019-04-02 10:05    75  ***************************************+\n ...    ..( 11 skipped).    ..  ***************************************+\n 318    2019-04-02 10:17    75  ***************************************+\n 319    2019-04-02 10:18    76  ***************************************+\n 320    2019-04-02 10:19    75  ***************************************+\n ...    ..(  4 skipped).    ..  ***************************************+\n 325    2019-04-02 10:24    75  ***************************************+\n 326    2019-04-02 10:25    74  ***************************************+\n ...    ..(  7 skipped).    ..  ***************************************+\n 334    2019-04-02 10:33    74  ***************************************+\n 335    2019-04-02 10:34    73  ***************************************+\n ...    ..(  5 skipped).    ..  ***************************************+\n 341    2019-04-02 10:40    73  ***************************************+\n 342    2019-04-02 10:41    74  ***************************************+\n ...    ..(  4 skipped).    ..  ***************************************+\n 347    2019-04-02 10:46    74  ***************************************+\n 348    2019-04-02 10:47    75  ***************************************+\n ...    ..(  9 skipped).    ..  ***************************************+\n 358    2019-04-02 10:57    75  ***************************************+\n 359    2019-04-02 10:58    74  ***************************************+\n ...    ..(  5 skipped).    ..  ***************************************+\n 365    2019-04-02 11:04    74  ***************************************+\n 366    2019-04-02 11:05    73  ***************************************+\n 367    2019-04-02 11:06    74  ***************************************+\n ...    ..(  3 skipped).    ..  ***************************************+\n 371    2019-04-02 11:10    74  ***************************************+\n 372    2019-04-02 11:11    75  ***************************************+\n ...    ..(  4 skipped).    ..  ***************************************+\n 377    2019-04-02 11:16    75  ***************************************+\n 378    2019-04-02 11:17     ?  -\n 379    2019-04-02 11:18    30  ***********\n 380    2019-04-02 11:19    35  ****************\n 381    2019-04-02 11:20    38  *******************\n 382    2019-04-02 11:21    41  **********************\n 383    2019-04-02 11:22    43  ************************\n 384    2019-04-02 11:23    45  **************************\n 385    2019-04-02 11:24    46  ***************************\n 386    2019-04-02 11:25    47  ****************************\n 387    2019-04-02 11:26    47  ****************************\n 388    2019-04-02 11:27    48  *****************************\n 389    2019-04-02 11:28    49  ******************************\n 390    2019-04-02 11:29    49  ******************************\n 391    2019-04-02 11:30    50  *******************************\n 392    2019-04-02 11:31    50  *******************************\n 393    2019-04-02 11:32    50  *******************************\n 394    2019-04-02 11:33    51  ********************************\n 395    2019-04-02 11:34    51  ********************************\n 396    2019-04-02 11:35    52  *********************************\n 397    2019-04-02 11:36    52  *********************************\n 398    2019-04-02 11:37    52  *********************************\n 399    2019-04-02 11:38    53  **********************************\n ...    ..(  2 skipped).    ..  **********************************\n 402    2019-04-02 11:41    53  **********************************\n 403    2019-04-02 11:42    54  ***********************************\n 404    2019-04-02 11:43    59  ****************************************\n 405    2019-04-02 11:44    61  ***************************************+\n 406    2019-04-02 11:45    58  ***************************************\n 407    2019-04-02 11:46    62  ***************************************+\n 408    2019-04-02 11:47    66  ***************************************+\n 409    2019-04-02 11:48    63  ***************************************+\n 410    2019-04-02 11:49    60  ***************************************+\n 411    2019-04-02 11:50    58  ***************************************\n 412    2019-04-02 11:51    57  **************************************\n 413    2019-04-02 11:52    56  *************************************\n 414    2019-04-02 11:53    56  *************************************\n 415    2019-04-02 11:54    55  ************************************\n ...    ..( 10 skipped).    ..  ************************************\n 426    2019-04-02 12:05    55  ************************************\n 427    2019-04-02 12:06    58  ***************************************\n 428    2019-04-02 12:07    57  **************************************\n 429    2019-04-02 12:08    56  *************************************\n ...    ..(  3 skipped).    ..  *************************************\n 433    2019-04-02 12:12    56  *************************************\n 434    2019-04-02 12:13    55  ************************************\n ...    ..(  5 skipped).    ..  ************************************\n 440    2019-04-02 12:19    55  ************************************\n 441    2019-04-02 12:20    56  *************************************\n 442    2019-04-02 12:21    56  *************************************\n 443    2019-04-02 12:22    56  *************************************\n 444    2019-04-02 12:23     ?  -\n 445    2019-04-02 12:24    51  ********************************\n 446    2019-04-02 12:25    52  *********************************\n 447    2019-04-02 12:26    53  **********************************\n 448    2019-04-02 12:27    54  ***********************************\n 449    2019-04-02 12:28    55  ************************************\n 450    2019-04-02 12:29    55  ************************************\n 451    2019-04-02 12:30    56  *************************************\n 452    2019-04-02 12:31    56  *************************************\n 453    2019-04-02 12:32    57  **************************************\n 454    2019-04-02 12:33    57  **************************************\n 455    2019-04-02 12:34    58  ***************************************\n ...    ..(  2 skipped).    ..  ***************************************\n 458    2019-04-02 12:37    58  ***************************************\n 459    2019-04-02 12:38    59  ****************************************\n ...    ..(  2 skipped).    ..  ****************************************\n 462    2019-04-02 12:41    59  ****************************************\n 463    2019-04-02 12:42    60  ***************************************+\n ...    ..(  4 skipped).    ..  ***************************************+\n 468    2019-04-02 12:47    60  ***************************************+\n 469    2019-04-02 12:48    61  ***************************************+\n ...    ..(  4 skipped).    ..  ***************************************+\n 474    2019-04-02 12:53    61  ***************************************+\n 475    2019-04-02 12:54    62  ***************************************+\n 476    2019-04-02 12:55    62  ***************************************+\n 477    2019-04-02 12:56    66  ***************************************+\n   0    2019-04-02 12:57    65  ***************************************+\n ...    ..( 10 skipped).    ..  ***************************************+\n  11    2019-04-02 13:08    65  ***************************************+\n  12    2019-04-02 13:09    66  ***************************************+\n ...    ..( 10 skipped).    ..  ***************************************+\n  23    2019-04-02 13:20    66  ***************************************+\n  24    2019-04-02 13:21    65  ***************************************+\n  25    2019-04-02 13:22    65  ***************************************+\n  26    2019-04-02 13:23    65  ***************************************+\n  27    2019-04-02 13:24    64  ***************************************+\n  28    2019-04-02 13:25    65  ***************************************+\n ...    ..( 10 skipped).    ..  ***************************************+\n  39    2019-04-02 13:36    65  ***************************************+\n  40    2019-04-02 13:37    66  ***************************************+\n ...    ..( 13 skipped).    ..  ***************************************+\n  54    2019-04-02 13:51    66  ***************************************+\n  55    2019-04-02 13:52    67  ***************************************+\n ...    ..( 22 skipped).    ..  ***************************************+\n  78    2019-04-02 14:15    67  ***************************************+\n  79    2019-04-02 14:16    68  ***************************************+\n  80    2019-04-02 14:17    68  ***************************************+\n  81    2019-04-02 14:18    67  ***************************************+\n ...    ..(  2 skipped).    ..  ***************************************+\n  84    2019-04-02 14:21    67  ***************************************+\n  85    2019-04-02 14:22    66  ***************************************+\n ...    ..(  6 skipped).    ..  ***************************************+\n  92    2019-04-02 14:29    66  ***************************************+\n  93    2019-04-02 14:30    65  ***************************************+\n ...    ..( 19 skipped).    ..  ***************************************+\n 113    2019-04-02 14:50    65  ***************************************+\n 114    2019-04-02 14:51    66  ***************************************+\n ...    ..(  3 skipped).    ..  ***************************************+\n 118    2019-04-02 14:55    66  ***************************************+\n 119    2019-04-02 14:56     ?  -\n 120    2019-04-02 14:57    31  ************\n 121    2019-04-02 14:58    35  ****************\n 122    2019-04-02 14:59    38  *******************\n 123    2019-04-02 15:00    41  **********************\n 124    2019-04-02 15:01    43  ************************\n 125    2019-04-02 15:02    45  **************************\n 126    2019-04-02 15:03    46  ***************************\n 127    2019-04-02 15:04    47  ****************************\n 128    2019-04-02 15:05    48  *****************************\n 129    2019-04-02 15:06    49  ******************************\n 130    2019-04-02 15:07    50  *******************************\n 131    2019-04-02 15:08    51  ********************************\n 132    2019-04-02 15:09    51  ********************************\n 133    2019-04-02 15:10    52  *********************************\n 134    2019-04-02 15:11    58  ***************************************\n 135    2019-04-02 15:12    57  **************************************\n 136    2019-04-02 15:13    56  *************************************\n 137    2019-04-02 15:14    55  ************************************\n 138    2019-04-02 15:15    55  ************************************\n 139    2019-04-02 15:16    55  ************************************\n 140    2019-04-02 15:17    56  *************************************\n ...    ..(  2 skipped).    ..  *************************************\n 143    2019-04-02 15:20    56  *************************************\n 144    2019-04-02 15:21    57  **************************************\n 145    2019-04-02 15:22    57  **************************************\n 146    2019-04-02 15:23    58  ***************************************\n 147    2019-04-02 15:24    58  ***************************************\n 148    2019-04-02 15:25    59  ****************************************\n 149    2019-04-02 15:26    59  ****************************************\n 150    2019-04-02 15:27    60  ***************************************+\n 151    2019-04-02 15:28    60  ***************************************+\n 152    2019-04-02 15:29    60  ***************************************+\n 153    2019-04-02 15:30    61  ***************************************+\n 154    2019-04-02 15:31    61  ***************************************+\n 155    2019-04-02 15:32    61  ***************************************+\n 156    2019-04-02 15:33    62  ***************************************+\n 157    2019-04-02 15:34    62  ***************************************+\n 158    2019-04-02 15:35    63  ***************************************+\n 159    2019-04-02 15:36    63  ***************************************+\n 160    2019-04-02 15:37    64  ***************************************+\n 161    2019-04-02 15:38    64  ***************************************+\n 162    2019-04-02 15:39    65  ***************************************+\n ...    ..(  2 skipped).    ..  ***************************************+\n 165    2019-04-02 15:42    65  ***************************************+\n 166    2019-04-02 15:43    66  ***************************************+\n 167    2019-04-02 15:44    66  ***************************************+\n 168    2019-04-02 15:45    66  ***************************************+\n 169    2019-04-02 15:46    67  ***************************************+\n ...    ..(  2 skipped).    ..  ***************************************+\n 172    2019-04-02 15:49    67  ***************************************+\n 173    2019-04-02 15:50    68  ***************************************+\n 174    2019-04-02 15:51    68  ***************************************+\n 175    2019-04-02 15:52    69  ***************************************+\n 176    2019-04-02 15:53    69  ***************************************+\n 177    2019-04-02 15:54    69  ***************************************+\n 178    2019-04-02 15:55    70  ***************************************+\n ...    ..(  3 skipped).    ..  ***************************************+\n 182    2019-04-02 15:59    70  ***************************************+\n 183    2019-04-02 16:00    71  ***************************************+\n ...    ..(  3 skipped).    ..  ***************************************+\n 187    2019-04-02 16:04    71  ***************************************+\n 188    2019-04-02 16:05    72  ***************************************+\n ...    ..( 11 skipped).    ..  ***************************************+\n 200    2019-04-02 16:17    72  ***************************************+\n 201    2019-04-02 16:18    73  ***************************************+\n 202    2019-04-02 16:19    73  ***************************************+\n 203    2019-04-02 16:20    73  ***************************************+\n 204    2019-04-02 16:21    72  ***************************************+\n 205    2019-04-02 16:22    71  ***************************************+\n ...    ..(  9 skipped).    ..  ***************************************+\n 215    2019-04-02 16:32    71  ***************************************+\n 216    2019-04-02 16:33    72  ***************************************+\n ...    ..( 10 skipped).    ..  ***************************************+\n 227    2019-04-02 16:44    72  ***************************************+\n 228    2019-04-02 16:45    73  ***************************************+\n 229    2019-04-02 16:46    73  ***************************************+\n 230    2019-04-02 16:47    78  ***************************************+\n 231    2019-04-02 16:48    85  ***************************************+\n 232    2019-04-02 16:49    86  ***************************************+\n 233    2019-04-02 16:50    82  ***************************************+\n 234    2019-04-02 16:51    83  ***************************************+\n 235    2019-04-02 16:52    80  ***************************************+\n 236    2019-04-02 16:53    79  ***************************************+\n 237    2019-04-02 16:54    78  ***************************************+\n 238    2019-04-02 16:55    78  ***************************************+\n 239    2019-04-02 16:56    82  ***************************************+\n 240    2019-04-02 16:57    79  ***************************************+\n 241    2019-04-02 16:58    79  ***************************************+\n 242    2019-04-02 16:59    78  ***************************************+\n 243    2019-04-02 17:00    77  ***************************************+\n 244    2019-04-02 17:01    82  ***************************************+\n 245    2019-04-02 17:02    78  ***************************************+\n 246    2019-04-02 17:03    75  ***************************************+\n 247    2019-04-02 17:04    73  ***************************************+\n 248    2019-04-02 17:05    72  ***************************************+\n 249    2019-04-02 17:06    71  ***************************************+\n 250    2019-04-02 17:07    71  ***************************************+\n 251    2019-04-02 17:08    72  ***************************************+\n 252    2019-04-02 17:09    71  ***************************************+\n ...    ..(  7 skipped).    ..  ***************************************+\n 260    2019-04-02 17:17    71  ***************************************+\n 261    2019-04-02 17:18    70  ***************************************+\n 262    2019-04-02 17:19    69  ***************************************+\n ...    ..(  4 skipped).    ..  ***************************************+\n 267    2019-04-02 17:24    69  ***************************************+\n 268    2019-04-02 17:25    70  ***************************************+\n 269    2019-04-02 17:26    70  ***************************************+\n 270    2019-04-02 17:27    71  ***************************************+\n 271    2019-04-02 17:28    71  ***************************************+\n 272    2019-04-02 17:29    71  ***************************************+\n 273    2019-04-02 17:30    72  ***************************************+\n ...    ..(  2 skipped).    ..  ***************************************+\n 276    2019-04-02 17:33    72  ***************************************+\n 277    2019-04-02 17:34    73  ***************************************+\n ...    ..(  3 skipped).    ..  ***************************************+\n 281    2019-04-02 17:38    73  ***************************************+\n 282    2019-04-02 17:39    72  ***************************************+\n ...    ..(  7 skipped).    ..  ***************************************+\n 290    2019-04-02 17:47    72  ***************************************+\n\nSCT Error Recovery Control command not supported\n\nDevice Statistics (GP Log 0x04)\nPage  Offset Size        Value Flags Description\n0x01  =====  =               =  ===  == General Statistics (rev 2) ==\n0x01  0x008  4            7869  ---  Lifetime Power-On Resets\n0x01  0x010  4            4767  ---  Power-on Hours\n0x01  0x018  6     14546033643  ---  Logical Sectors Written\n0x01  0x020  6       227295754  ---  Number of Write Commands\n0x01  0x028  6     17379261957  ---  Logical Sectors Read\n0x01  0x030  6       311698184  ---  Number of Read Commands\n0x04  =====  =               =  ===  == General Errors Statistics (rev 1) ==\n0x04  0x008  4               0  ---  Number of Reported Uncorrectable Errors\n0x04  0x010  4            7852  ---  Resets Between Cmd Acceptance and Completion\n0x05  =====  =               =  ===  == Temperature Statistics (rev 1) ==\n0x05  0x008  1              66  ---  Current Temperature\n0x05  0x010  1              61  ---  Average Short Term Temperature\n0x05  0x018  1              59  ---  Average Long Term Temperature\n0x05  0x020  1              94  ---  Highest Temperature\n0x05  0x028  1              17  ---  Lowest Temperature\n0x05  0x030  1              81  ---  Highest Average Short Term Temperature\n0x05  0x038  1              39  ---  Lowest Average Short Term Temperature\n0x05  0x040  1              69  ---  Highest Average Long Term Temperature\n0x05  0x048  1              47  ---  Lowest Average Long Term Temperature\n0x05  0x050  4            6446  ---  Time in Over-Temperature\n0x05  0x058  1              70  ---  Specified Maximum Operating Temperature\n0x05  0x060  4               -  ---  Time in Under-Temperature\n0x05  0x068  1               0  ---  Specified Minimum Operating Temperature\n0x06  =====  =               =  ===  == Transport Statistics (rev 1) ==\n0x06  0x008  4            1620  ---  Number of Hardware Resets\n0x06  0x010  4               0  ---  Number of ASR Events\n0x06  0x018  4               0  ---  Number of Interface CRC Errors\n0x07  =====  =               =  ===  == Solid State Device Statistics (rev 1) ==\n0x07  0x008  1              24  N--  Percentage Used Endurance Indicator\n                                |||_ C monitored condition met\n                                ||__ D supports DSN\n                                |___ N normalized value\n\nSATA Phy Event Counters (GP Log 0x11)\nID      Size     Value  Description\n0x0001  4            0  Command failed due to ICRC error\n0x000a  4            2  Device-to-host register FISes sent due to a COMRESET\n\n"
		}
	]
	output = read_smartctl(filedir)

	assert expect == output
